-- CREATE TABLE reservoir_discharge_sample22 LIKE reservoir_discharge;

-- delete from reservoir_discharge_sample2;
-- select * from reservoir_discharge_sample2;

-- Bản ghi gốc hồ chứa
INSERT INTO reservoir_discharge_sample2
(reservoir_id, date, inflow, release_flow, spillway_flow, hydro_use_flow, current_volume)
VALUES
(1, '2025-11-16 00:00:00', 500, 300, 50, 250, 350000000); -- thể tích hồ khởi tạo 350 triệu m³




-- 17/11/2025
INSERT INTO reservoir_discharge_sample2 (reservoir_id, date, inflow, release_flow, spillway_flow, hydro_use_flow, current_volume) VALUES
(1, '2025-11-17 00:00:00', 520, 300, 800, 250, NULL),
(1, '2025-11-17 02:00:00', 530, 300, 820, 250, NULL),
(1, '2025-11-17 04:00:00', 510, 300, 850, 250, NULL),
(1, '2025-11-17 06:00:00', 500, 300, 880, 250, NULL),
(1, '2025-11-17 08:00:00', 480, 300, 900, 250, NULL),
(1, '2025-11-17 10:00:00', 470, 300, 920, 250, NULL),
(1, '2025-11-17 12:00:00', 460, 300, 950, 250, NULL),
(1, '2025-11-17 14:00:00', 450, 300, 970, 250, NULL),
(1, '2025-11-17 16:00:00', 440, 300, 1000, 250, NULL),
(1, '2025-11-17 18:00:00', 430, 300, 1020, 250, NULL),
(1, '2025-11-17 20:00:00', 420, 300, 1050, 250, NULL),
(1, '2025-11-17 22:00:00', 410, 300, 1080, 250, NULL);

-- 18/11/2025
INSERT INTO reservoir_discharge_sample2 (reservoir_id, date, inflow, release_flow, spillway_flow, hydro_use_flow, current_volume) VALUES
(1, '2025-11-18 00:00:00', 400, 300, 1100, 250, NULL),
(1, '2025-11-18 02:00:00', 410, 300, 1120, 250, NULL),
(1, '2025-11-18 04:00:00', 420, 300, 1150, 250, NULL),
(1, '2025-11-18 06:00:00', 430, 300, 1170, 250, NULL),
(1, '2025-11-18 08:00:00', 440, 300, 1200, 250, NULL),
(1, '2025-11-18 10:00:00', 450, 300, 1220, 250, NULL),
(1, '2025-11-18 12:00:00', 460, 300, 1250, 250, NULL),
(1, '2025-11-18 14:00:00', 470, 300, 1270, 250, NULL),
(1, '2025-11-18 16:00:00', 480, 300, 1300, 250, NULL),
(1, '2025-11-18 18:00:00', 490, 300, 1320, 250, NULL),
(1, '2025-11-18 20:00:00', 500, 300, 1350, 250, NULL),
(1, '2025-11-18 22:00:00', 510, 300, 1370, 250, NULL);


-- 19/11/2025
INSERT INTO reservoir_discharge_sample2 (reservoir_id, date, inflow, release_flow, spillway_flow, hydro_use_flow, current_volume) VALUES
(1,'2025-11-19 00:00:00',16000,300,15700,250,NULL),
(1,'2025-11-19 02:00:00',16000,300,15700,250,NULL),
(1,'2025-11-19 04:00:00',16000,300,15700,250,NULL),
(1,'2025-11-19 06:00:00',16000,300,15700,250,NULL),
(1,'2025-11-19 08:00:00',16000,300,15700,250,NULL),
(1,'2025-11-19 10:00:00',16000,300,15700,250,NULL),
(1,'2025-11-19 12:00:00',16000,300,15700,250,NULL),
(1,'2025-11-19 14:00:00',16000,300,15700,250,NULL),
(1,'2025-11-19 16:00:00',16000,300,15700,250,NULL),
(1,'2025-11-19 18:00:00',16000,300,15700,250,NULL),
(1,'2025-11-19 20:00:00',16000,300,15700,250,NULL),
(1,'2025-11-19 22:00:00',16000,300,15700,250,NULL);

-- 20/11/2025
INSERT INTO reservoir_discharge_sample2 (reservoir_id, date, inflow, release_flow, spillway_flow, hydro_use_flow, current_volume) VALUES
(1,'2025-11-20 00:00:00',16000,300,15700,250,NULL),
(1,'2025-11-20 02:00:00',16000,300,15700,250,NULL),
(1,'2025-11-20 04:00:00',16000,300,15700,250,NULL),
(1,'2025-11-20 06:00:00',16000,300,15700,250,NULL),
(1,'2025-11-20 08:00:00',16000,300,15700,250,NULL),
(1,'2025-11-20 10:00:00',16000,300,15700,250,NULL),
(1,'2025-11-20 12:00:00',16000,300,15700,250,NULL),
(1,'2025-11-20 14:00:00',16000,300,15700,250,NULL),
(1,'2025-11-20 16:00:00',16000,300,15700,250,NULL),
(1,'2025-11-20 18:00:00',16000,300,15700,250,NULL),
(1,'2025-11-20 20:00:00',16000,300,15700,250,NULL),
(1,'2025-11-20 22:00:00',16000,300,15700,250,NULL);

-- 21/11/2025
INSERT INTO reservoir_discharge_sample2 (reservoir_id, date, inflow, release_flow, spillway_flow, hydro_use_flow, current_volume) VALUES
(1,'2025-11-21 00:00:00',16000,300,15700,250,NULL),
(1,'2025-11-21 02:00:00',16000,300,15700,250,NULL),
(1,'2025-11-21 04:00:00',16000,300,15700,250,NULL),
(1,'2025-11-21 06:00:00',16000,300,15700,250,NULL),
(1,'2025-11-21 08:00:00',16000,300,15700,250,NULL),
(1,'2025-11-21 10:00:00',16000,300,15700,250,NULL),
(1,'2025-11-21 12:00:00',16000,300,15700,250,NULL),
(1,'2025-11-21 14:00:00',16000,300,15700,250,NULL),
(1,'2025-11-21 16:00:00',16000,300,15700,250,NULL),
(1,'2025-11-21 18:00:00',16000,300,15700,250,NULL),
(1,'2025-11-21 20:00:00',16000,300,15700,250,NULL),
(1,'2025-11-21 22:00:00',16000,300,15700,250,NULL);

-- 22/11/2025 (inflow giảm, spillway giảm)
INSERT INTO reservoir_discharge_sample2 (reservoir_id, date, inflow, release_flow, spillway_flow, hydro_use_flow, current_volume) VALUES
(1,'2025-11-22 00:00:00',10000,300,9250,250,NULL),
(1,'2025-11-22 02:00:00',10000,300,9250,250,NULL),
(1,'2025-11-22 04:00:00',10000,300,9250,250,NULL),
(1,'2025-11-22 06:00:00',10000,300,9250,250,NULL),
(1,'2025-11-22 08:00:00',10000,300,9250,250,NULL),
(1,'2025-11-22 10:00:00',10000,300,9250,250,NULL),
(1,'2025-11-22 12:00:00',10000,300,9250,250,NULL),
(1,'2025-11-22 14:00:00',10000,300,9250,250,NULL),
(1,'2025-11-22 16:00:00',10000,300,9250,250,NULL),
(1,'2025-11-22 18:00:00',10000,300,9250,250,NULL),
(1,'2025-11-22 20:00:00',10000,300,9250,250,NULL),
(1,'2025-11-22 22:00:00',10000,300,9250,250,NULL);


select * from reservoir_discharge_sample2;

-- update các bản ghi từ 246 - 293 để xem thử thay đổi trên pbi 
UPDATE reservoir_discharge_sample2
SET spillway_flow = 16000
WHERE dayofmonth(date) =19;

UPDATE reservoir_discharge_sample
SET spillway_flow = 15600, inflow = 15600
WHERE discharge_id BETWEEN 134 and 136;

UPDATE reservoir_discharge_sample
SET spillway_flow = 13800, inflow = 13800
WHERE dayofmonth(date) = 20 and hour(date) = 2; -- between 4 and 8;

-- https://nld.com.vn/thong-tin-moi-nhat-ve-thuy-dien-song-ba-ha-xa-lu-196251120054049127.htm
UPDATE reservoir_discharge_sample2
SET spillway_flow = 16000
WHERE dayofmonth(date) =19;

UPDATE reservoir_discharge_sample
SET spillway_flow = 13400, inflow = 13400
WHERE dayofmonth(date) = 20 and hour(date) between 4 and 8;

-- https://vietnamnet.vn/dien-bien-xa-lu-moi-nhat-tai-thuy-dien-song-ba-ha-2464638.html

UPDATE reservoir_discharge_sample
SET hydro_use_flow = 150;

UPDATE reservoir_discharge_sample2
SET spillway_flow = 9700, inflow = 10650
WHERE discharge_id >=141;


UPDATE reservoir_discharge_sample2
SET inflow = 500, spillway_flow = 500
WHERE dayofmonth(date) = 22;-- and hour(date) between 4 and 8;


